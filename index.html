<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>space travel 3</title>
	<script src="./javascripts/jQuery 1.11.0.js"></script>	
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link href='http://fonts.googleapis.com/css?family=Open+Sans+Condensed:300|Open+Sans' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" type="text/css" href="./css/main.css">
	<link rel='stylesheet' media= "screen and (max-width: 768px)" href='./css/responsive.css'>
	<script>
	$(function(){
			
		// $('img').css({'height':$(window).height()});	
		// $(window).resize(function(){
		// 		$('img').css({'height':$(window).height()});
		// });
		//background space travel
		var index=0;
		var time=20;
		var magRate = [2,1.7,1.5,1.3,1.2];
		function spaceTravelGo(){
			$('#background img').each(function(index, el) {
				$(el).css({

					'transform':'scale('+magRate[index]+')',
					'-ms-transform':'scale('+magRate[index]+')',
					'-webkit-transform':'scale('+magRate[index]+')',
					'-moz-transform':'scale('+magRate[index]+')',

					'transition': 'transform '+time+'s linear 0s',
					'-ms-transition': '-ms-transform '+time+'s linear 0s',
					'-webkit-transition': '-webkit-transform '+time+'s linear 0s',
					'-moz-transition': '-moz-transform '+time+'s linear 0s',
				});
			});
			index=0;
		}
		function spaceTravelBack(){
			$('#background img').each(function(index, el) {
				$(el).css({
					
					'transform':'scale(1)',
					'-ms-transform':'scale(1)',
					'-webkit-transform':'scale(1)',
					'-moz-transform':'scale(1)',

					'transition': 'transform '+time+'s linear 0s',
					'-ms-transition': '-ms-transform '+time+'s linear 0s',
					'-webkit-transition': '-webkit-transform '+time+'s linear 0s',
					'-moz-transition': '-moz-transform '+time+'s linear 0s',

				});
			});
			
			index=1;
		}
		$('#earth').css('transform','scale(0.1)');
		spaceTravelGo()
		var timer = setInterval(function(){
			if(index==0)
			{
				spaceTravelBack();
			}else
			{	
				spaceTravelGo();
			}
			
		},time*1000);

		//mouse move space
		var mouseSpeed = 30;//This is the denominator, the smaller it goes, the fasters stars move.
		$(document).mousemove(function(ev) {
			/* Act on the event */
			$('#background img').each(function(index, el) {
				if(true)//(index==0||index==1||index==4)
				{
					$(el).css({
						'top':-(ev.pageY-700)/((index*1.3+1)*mouseSpeed),
						'left':-(ev.pageX-700)/((index*1.3+1)*mouseSpeed)
					});	
				}				
			});
		});
	

		///////////////button hover
		$('.nav_btn').mousemove(function(){

			
			$(this).css({'background-color': 'white'});
			if($(this).css('border-color'))
			{
				$(this).css({'background-color': $(this).css('border-color')});
			}
			$(this).children().css({'color':'black'});
		});
		$('.nav_btn').mouseout(function(){
			$(this).css({'background-color':''});
			$(this).children().css({'color':'white'});
		});
		var _this;
		//////////////button click
		$('.nav_btn').click(function(){
			//alert($(this).index());
			_this=$('.planet').eq($(this).index());
			$('#Shadow').animate({
					'opacity':'0',
				},100);
			$('.planet').animate({
				'opacity':'0',
			},400);
			$('.planet').eq($(this).index()).animate({
				'opacity':'1',
			},200,function(){
				$('#Shadow').animate({
					'opacity':'1',
				},500);
			});
			
			
			
			return false;
		});
		$(document).click(function(){
			$('#Shadow').animate({
					'opacity':'0',
				},300,function(){
					_this.animate({
						'opacity':'0',
					},500);
				});
			
		});

		
	})

	

	</script>
</head>
<body>
	<div id='container'>
		<header>		
			<div class="nav_btn" id='Earth'><a href="#">Earth</a></div>
			<div class="nav_btn" id='Moon'><a href="#">Moon</a></div>
			<div class="nav_btn" id='Mars'><a href="#">Mars</a></div>
			<div class="nav_btn" id='Jupiter'><a href="#">Jupiter</a></div>	
		</header>
	</div>
	<div id='planetBox'>
		<img class='rotation planet' id='EarthP' style='z-index:1' src="./images/earth.png" alt="aaa">
		<img class='rotation planet' id='MoonP' style='z-index:1' src="./images/Moon.png" alt="aaa">
		<img class='rotation planet' id='MarsP' style='z-index:1' src="./images/Mars.png" alt="aaa">
		<img class='rotation planet' id='JupiterP' style='z-index:1' src="./images/Jupiter.png" alt="aaa">
		<img class='rotation 'id='Shadow' style='z-index:1' src="./images/Shadow.png" alt="aaa">
	</div>
	<div id='background'>
		<img id='background1' style='z-index:5' src="./images/1big stars.png" alt="aaa">
		<img id='background2'  style='z-index:4' src="./images/2middle stars.png" alt="aaa">
		<img id='earth' style='z-index:3' src="./images/Galaxy.png" alt="aaa">
		<img id='background3' style='z-index:2' src="./images/3small stars.png" alt="aaa">
		<img id='background4' style='z-index:1' src="./images/4back stars.png" alt="aaa">	
	</div>	

	
</body>
</html>
